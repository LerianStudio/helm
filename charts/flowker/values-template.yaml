# Template values for flowker deployment
# Copy this file and customize for your environment

namespaceOverride: "flowker"

flowker:
  enabled: true
  replicaCount: 1

  image:
    repository: lerianstudio/flowker
    pullPolicy: IfNotPresent
    tag: ""

  imagePullSecrets: []

  ingress:
    enabled: false
    className: ""
    annotations: {}
    hosts:
      - host: ""
        paths:
          - path: /
            pathType: Prefix
    tls: []

  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 128Mi

  autoscaling:
    enabled: true
    minReplicas: 1
    maxReplicas: 5
    targetCPUUtilizationPercentage: 80
    targetMemoryUtilizationPercentage: 80

  configmap:
    SERVER_ADDRESS: ":4000"
    LOG_LEVEL: "info"
    API_KEY_ENABLED: "false"
    CORS_ALLOWED_ORIGINS: "*"
    MONGO_URI: "mongodb"
    MONGO_HOST: ""
    MONGO_PORT: "27017"
    MONGO_DB_NAME: "flowker"
    MONGO_APP_USER: "flowker"
    ENABLE_TELEMETRY: "false"
    OTEL_EXPORTER_OTLP_ENDPOINT: ""

  secrets:
    MONGO_APP_PASSWORD: ""
    API_KEY: ""

  useExistingSecret: false
  existingSecretName: ""

mongodb:
  enabled: true
  external: false
  auth:
    enabled: true
    rootUser: flowker
    rootPassword: ""
  persistence:
    size: 8Gi
