# Template values for underwriter deployment
# Copy this file and customize for your environment

namespaceOverride: "underwriter"

global:
  externalPostgresDefinitions:
    enabled: false
    connection:
      host: ""
      port: "5432"
    postgresAdminLogin:
      useExistingSecret:
        name: ""
      username: ""
      password: ""
    underwriterCredentials:
      useExistingSecret:
        name: ""
      password: ""

underwriter:
  enabled: true
  replicaCount: 1

  image:
    repository: ghcr.io/lerianstudio/underwriter
    pullPolicy: IfNotPresent
    tag: ""

  imagePullSecrets: []

  ingress:
    enabled: false
    className: ""
    annotations: {}
    hosts:
      - host: ""
        paths:
          - path: /
            pathType: Prefix
    tls: []

  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 128Mi

  autoscaling:
    enabled: true
    minReplicas: 1
    maxReplicas: 5
    targetCPUUtilizationPercentage: 80
    targetMemoryUtilizationPercentage: 80

  configmap:
    ENV_NAME: ""
    SERVER_ADDRESS: ":4017"
    LOG_LEVEL: "info"
    POSTGRES_HOST: ""
    POSTGRES_PORT: "5432"
    POSTGRES_DB: "underwriter"
    POSTGRES_USER: "underwriter"
    POSTGRES_SSLMODE: "disable"
    REDIS_HOST: ""
    REDIS_DB: "0"
    AUTH_ENABLED: "false"
    AUTH_SERVICE_ADDRESS: ""
    ENABLE_TELEMETRY: "false"
    OTEL_EXPORTER_OTLP_ENDPOINT: ""

  secrets:
    POSTGRES_PASSWORD: ""
    REDIS_PASSWORD: ""
    AUTH_JWT_SECRET: ""

  useExistingSecret: false
  existingSecretName: ""
